<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doofenshmirtz Evil Incorporated - City Simulator: Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Doofenshmirtz Evil Incorporated - City Simulator
   </div>
   <div id="projectbrief">The City Builder Simulation is a C++ project where users manage and develop various aspects of an evolving city. The simulation balances resources, infrastructure, and the needs of citizens while demonstrating principles of software design, such as scalability, flexibility, and maintainability.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>WebSocket server class that handles client connections and message processing.  
 <a href="classServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Server_8h_source.html">Server.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Server:</div>
<div class="dyncontent">
<div class="center"><img src="classServer__inherit__graph.png" border="0" usemap="#aServer_inherit__map" alt="Inheritance graph"/></div>
<map name="aServer_inherit__map" id="aServer_inherit__map">
<area shape="rect" title="WebSocket server class that handles client connections and message processing." alt="" coords="55,95,119,121"/>
<area shape="rect" title=" " alt="" coords="5,5,168,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Server:</div>
<div class="dyncontent">
<div class="center"><img src="classServer__coll__graph.png" border="0" usemap="#aServer_coll__map" alt="Collaboration graph"/></div>
<map name="aServer_coll__map" id="aServer_coll__map">
<area shape="rect" title="WebSocket server class that handles client connections and message processing." alt="" coords="55,95,119,121"/>
<area shape="rect" title=" " alt="" coords="5,5,168,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8c54645c9c065549fca2c46caa20fd35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a8c54645c9c065549fca2c46caa20fd35">Server</a> (int &amp;taxRate)</td></tr>
<tr class="memdesc:a8c54645c9c065549fca2c46caa20fd35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classServer.html" title="WebSocket server class that handles client connections and message processing.">Server</a> object.  <a href="classServer.html#a8c54645c9c065549fca2c46caa20fd35">More...</a><br /></td></tr>
<tr class="separator:a8c54645c9c065549fca2c46caa20fd35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3aa2579cb1c8cd1d069582c14d0fa6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a4b3aa2579cb1c8cd1d069582c14d0fa6">~Server</a> ()</td></tr>
<tr class="memdesc:a4b3aa2579cb1c8cd1d069582c14d0fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the <a class="el" href="classServer.html" title="WebSocket server class that handles client connections and message processing.">Server</a> object.  <a href="classServer.html#a4b3aa2579cb1c8cd1d069582c14d0fa6">More...</a><br /></td></tr>
<tr class="separator:a4b3aa2579cb1c8cd1d069582c14d0fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eac07d2582fa01c2671362efa955b31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a7eac07d2582fa01c2671362efa955b31">start</a> ()</td></tr>
<tr class="memdesc:a7eac07d2582fa01c2671362efa955b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the WebSocket server.  <a href="classServer.html#a7eac07d2582fa01c2671362efa955b31">More...</a><br /></td></tr>
<tr class="separator:a7eac07d2582fa01c2671362efa955b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c45a7e101a3926d8f9685c3c5d14e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a07c45a7e101a3926d8f9685c3c5d14e4">stop</a> ()</td></tr>
<tr class="memdesc:a07c45a7e101a3926d8f9685c3c5d14e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the WebSocket server.  <a href="classServer.html#a07c45a7e101a3926d8f9685c3c5d14e4">More...</a><br /></td></tr>
<tr class="separator:a07c45a7e101a3926d8f9685c3c5d14e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9294c3527b198d5afc02413acb1b6ae3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a9294c3527b198d5afc02413acb1b6ae3">handleSession</a> (tcp::socket socket)</td></tr>
<tr class="memdesc:a9294c3527b198d5afc02413acb1b6ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle an individual client session.  <a href="classServer.html#a9294c3527b198d5afc02413acb1b6ae3">More...</a><br /></td></tr>
<tr class="separator:a9294c3527b198d5afc02413acb1b6ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81573c94aca3996029ae9a7de064ee2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ad81573c94aca3996029ae9a7de064ee2">write</a> (const nlohmann::json &amp;request)</td></tr>
<tr class="memdesc:ad81573c94aca3996029ae9a7de064ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a JSON message to the connected client.  <a href="classServer.html#ad81573c94aca3996029ae9a7de064ee2">More...</a><br /></td></tr>
<tr class="separator:ad81573c94aca3996029ae9a7de064ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab283c97699a9a4acbd2e377ec974c5cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ab283c97699a9a4acbd2e377ec974c5cc">setStartFlag</a> (std::atomic&lt; bool &gt; *flag)</td></tr>
<tr class="memdesc:ab283c97699a9a4acbd2e377ec974c5cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag that will be triggered by the 'start' command.  <a href="classServer.html#ab283c97699a9a4acbd2e377ec974c5cc">More...</a><br /></td></tr>
<tr class="separator:ab283c97699a9a4acbd2e377ec974c5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa049ad00bf95ff1c3e22b3157b6583"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#aefa049ad00bf95ff1c3e22b3157b6583">setStopFlag</a> (std::atomic&lt; bool &gt; *flag)</td></tr>
<tr class="memdesc:aefa049ad00bf95ff1c3e22b3157b6583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag that will be triggered by the 'stop' command.  <a href="classServer.html#aefa049ad00bf95ff1c3e22b3157b6583">More...</a><br /></td></tr>
<tr class="separator:aefa049ad00bf95ff1c3e22b3157b6583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77b72ed8e2c87920829f1f3903fcc3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#af77b72ed8e2c87920829f1f3903fcc3e">setEducationFlag</a> (std::atomic&lt; bool &gt; *flag)</td></tr>
<tr class="memdesc:af77b72ed8e2c87920829f1f3903fcc3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag that will be triggered by the 'education' command.  <a href="classServer.html#af77b72ed8e2c87920829f1f3903fcc3e">More...</a><br /></td></tr>
<tr class="separator:af77b72ed8e2c87920829f1f3903fcc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1353947b67c99a4ece4bfef2b0cd8840"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a1353947b67c99a4ece4bfef2b0cd8840">setWorkFlag</a> (std::atomic&lt; bool &gt; *flag)</td></tr>
<tr class="memdesc:a1353947b67c99a4ece4bfef2b0cd8840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag that will be triggered by the 'shortwork' command.  <a href="classServer.html#a1353947b67c99a4ece4bfef2b0cd8840">More...</a><br /></td></tr>
<tr class="separator:a1353947b67c99a4ece4bfef2b0cd8840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b32be2410177048e35cda551964fe1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a9b32be2410177048e35cda551964fe1c">setTaxFlag</a> (std::atomic&lt; bool &gt; *flag)</td></tr>
<tr class="memdesc:a9b32be2410177048e35cda551964fe1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag that will be triggered by the 'tax' command.  <a href="classServer.html#a9b32be2410177048e35cda551964fe1c">More...</a><br /></td></tr>
<tr class="separator:a9b32be2410177048e35cda551964fe1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>WebSocket server class that handles client connections and message processing. </p>
<p>This class implements a WebSocket server that can handle a single client connection. It supports starting and stopping the server, handling client sessions, and sending/receiving messages. The server runs on a specified port and can process commands from the client.</p>
<dl class="section note"><dt>Note</dt><dd>This class inherits from enable_shared_from_this to safely create shared pointers to this instance when needed </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8c54645c9c065549fca2c46caa20fd35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c54645c9c065549fca2c46caa20fd35">&#9670;&nbsp;</a></span>Server()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>taxRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classServer.html" title="WebSocket server class that handles client connections and message processing.">Server</a> object. </p>
<p>Initializes the server with default values. The server starts in a non-running state and must be explicitly started using the <a class="el" href="classServer.html#a7eac07d2582fa01c2671362efa955b31" title="Start the WebSocket server.">start()</a> method </p>

</div>
</div>
<a id="a4b3aa2579cb1c8cd1d069582c14d0fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3aa2579cb1c8cd1d069582c14d0fa6">&#9670;&nbsp;</a></span>~Server()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Server::~Server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the <a class="el" href="classServer.html" title="WebSocket server class that handles client connections and message processing.">Server</a> object. </p>
<p>Ensures proper cleanup by calling <a class="el" href="classServer.html#a07c45a7e101a3926d8f9685c3c5d14e4" title="Stop the WebSocket server.">stop()</a> to close any open connections and free resources </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9294c3527b198d5afc02413acb1b6ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9294c3527b198d5afc02413acb1b6ae3">&#9670;&nbsp;</a></span>handleSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::handleSession </td>
          <td>(</td>
          <td class="paramtype">tcp::socket&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle an individual client session. </p>
<p>Implementation of client session handling.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>TCP socket for the connected client</td></tr>
  </table>
  </dd>
</dl>
<p>Manages the WebSocket connection with a client, processes incoming messages, and handles 'start' and 'stop' commands</p>
<p>This method runs in its own thread and manages the lifecycle of a client connection. It processes incoming messages and responds to commands. The session continues until either a 'stop' command is received or an error occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>Connected client socket to be managed</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw exceptions related to WebSocket operations which are caught and logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af77b72ed8e2c87920829f1f3903fcc3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77b72ed8e2c87920829f1f3903fcc3e">&#9670;&nbsp;</a></span>setEducationFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::setEducationFlag </td>
          <td>(</td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the flag that will be triggered by the 'education' command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Pointer to atomic boolean that will be set when education command is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab283c97699a9a4acbd2e377ec974c5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab283c97699a9a4acbd2e377ec974c5cc">&#9670;&nbsp;</a></span>setStartFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::setStartFlag </td>
          <td>(</td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the flag that will be triggered by the 'start' command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Pointer to atomic boolean that will be set when start command is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefa049ad00bf95ff1c3e22b3157b6583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa049ad00bf95ff1c3e22b3157b6583">&#9670;&nbsp;</a></span>setStopFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::setStopFlag </td>
          <td>(</td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the flag that will be triggered by the 'stop' command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Pointer to atomic boolean that will be set when stop command is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b32be2410177048e35cda551964fe1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b32be2410177048e35cda551964fe1c">&#9670;&nbsp;</a></span>setTaxFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::setTaxFlag </td>
          <td>(</td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the flag that will be triggered by the 'tax' command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Pointer to atomic boolean that will be set when tax command is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1353947b67c99a4ece4bfef2b0cd8840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1353947b67c99a4ece4bfef2b0cd8840">&#9670;&nbsp;</a></span>setWorkFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::setWorkFlag </td>
          <td>(</td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the flag that will be triggered by the 'shortwork' command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Pointer to atomic boolean that will be set when short work command is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eac07d2582fa01c2671362efa955b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eac07d2582fa01c2671362efa955b31">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the WebSocket server. </p>
<p>Implementation of server start procedure.</p>
<p>Initializes the server on port 12345 and begins accepting client connections. The server will run until explicitly stopped or an error occurs</p>
<p>Initializes the server on port 12345 and begins accepting connections. Only one client connection is handled at a time. The server continues running until explicitly stopped or an error occurs.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw exceptions related to socket operations which are caught and logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07c45a7e101a3926d8f9685c3c5d14e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c45a7e101a3926d8f9685c3c5d14e4">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the WebSocket server. </p>
<p>Implementation of server stop procedure.</p>
<p>Closes any active connections, stops accepting new connections, and performs cleanup of resources</p>
<p>Safely shuts down the server by closing the acceptor and any active WebSocket connections. This method is thread-safe and can be called from any thread.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw exceptions related to socket operations which are caught and logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad81573c94aca3996029ae9a7de064ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81573c94aca3996029ae9a7de064ee2">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Server::write </td>
          <td>(</td>
          <td class="paramtype">const nlohmann::json &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a JSON message to the connected client. </p>
<p>Implementation of JSON message writing to WebSocket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON object to be sent to the client</td></tr>
  </table>
  </dd>
</dl>
<p>Thread-safe method to send JSON messages to the connected client. If no client is connected or an error occurs, the message will not be sent</p>
<p>Sends a JSON message to the connected client in a thread-safe manner. If no client is connected or the connection is closed, the message will not be sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The JSON object to be sent to the client</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw exceptions related to WebSocket operations which are caught and logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Server_8h_source.html">Server.h</a></li>
<li><a class="el" href="Server_8cpp.html">Server.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
